- 回覆第一行必須包含【REVIEW-OK】

# Copilot 程式碼審查規則

請在進行程式碼審查時遵守以下規則，並根據需要提供修改建議與程式碼範例。

---

## 語言

- 回覆一律使用繁體中文。

---

## 程式碼品質

- 檢查命名是否清楚、符合駝峰式命名慣例；若有縮寫或模糊字（如 `data`, `list`, `info`），請提出具體更名建議。
- 檢查是否缺少錯誤處理（如缺乏 `try/catch` 或錯誤回傳）；若有問題，請提供補充範例。
- 檢查是否存在重複程式碼；如有，建議抽出共用函式/元件或 hooks，並給出重構示例。
- 若發現任何問題，請以「問題 → 原因 → 修改建議 → 範例程式碼」的格式回覆。

---

## TypeScript 規範

- 檢查是否出現 `any`（包含隱性 `any`）；若有，請提供安全替代方案。
- 檢查是否過度使用 `as` 強制轉型；若必要，應要求說明原因並提供泛型或型別守衛替代。
- 確認函式、變數、`props`、`emit` 事件都有明確型別；若缺少，請補上。
- 檢查邊界處理是否完整（如 `null/undefined`、空陣列、空字串、零值）；若不足，請建議補強。

---

## Vue / 前端規範

- 檢查是否誤用 Options API；若有，建議改為 Composition API。
- 檢查 `ref` / `computed` / `watch` 是否正確使用；避免多餘或深層監聽；如需改進，請提供更佳寫法。
- 檢查事件監聽器、計時器、訂閱是否在 `onUnmounted` 清理；若缺少，請提供補充程式碼。
- 檢查 `defineProps` / `defineEmits` 是否有泛型型別；若使用 `any` 或未定義型別，請給出改進建議。
- 檢查 `setup` 是否出現副作用；若有，建議移至 service 層。

---

## 效能與可維護性

- 檢查是否存在不必要的巢狀迴圈或重複計算；若有，請建議加入節流/防抖或記憶化。
- 若單一檔案過長（>500 行）或函式過長（>50 行），請提出模組化或拆分建議。
- 檢查第三方相依是否直接耦合；若有，請建議抽象為接口/Adapter。

---

## 安全與穩定性

- 檢查 API 呼叫是否有處理逾時、錯誤回傳與重試機制；若缺少，請提供改善建議。
- 檢查是否有將敏感資訊輸出到日誌；若有，請提醒移除或遮罩。
- 檢查使用者輸入是否有驗證或轉義；若缺少，請提醒避免潛在 XSS/注入風險。

---

## 回覆格式

1. 先給整體評語（亮點 + 潛在風險）。
2. 條列列出問題，並包含：
   - 問題描述
   - 問題原因
   - 修改建議
   - 可直接貼上的程式碼片段（前後對照更佳）
